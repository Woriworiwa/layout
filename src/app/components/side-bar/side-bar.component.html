<div class="primary">
  <div class="top-buttons">
    @for (tab of tabs; track tab) {
      <p-button [label]="tab.title"
                [pTooltip]="tab.title"
                [icon]="tab.icon"
                iconPos="top"
                [fluid]="true"
                [text]="tab.tab !== appStateService.layoutState().sideBarPrimary ? 'secondary' : undefined"
                (onClick)="appStateService.setAppLayout({sideBarPrimary: tab.tab})" size="small"></p-button>
    }
  </div>
  <div class="bottom-buttons">
    <p-button [icon]="appStateService.appState().darkTheme ? 'pi pi-moon' : 'pi pi-sun'"
              [rounded]="true"
              [text]="appStateService.appState().darkTheme"
              size="large"
              pTooltip="Dark Mode"
              tooltipPosition="bottom"
              [showDelay]="500"
              (onClick)="toggleDarkMode()">
    </p-button>
  </div>
<!--    <p-button class="action-button"-->
<!--              (onClick)="op.toggle($event)"-->
<!--              [text]="true"-->
<!--              pTooltip="Customize theme"-->
<!--              tooltipPosition="bottom"-->
<!--              icon="pi pi-palette">-->
<!--      <p-popover #op>-->
<!--        <app-theme-options></app-theme-options>-->
<!--      </p-popover>-->
<!--    </p-button>-->

</div>

<div class="secondary">
  @switch (appStateService.layoutState().sideBarPrimary) {
    @case (sideBarPrimary.insert) {
      <app-insert></app-insert>
    }
    @case (sideBarPrimary.elements) {
      <app-structure-tree></app-structure-tree>
    }
    @case (sideBarPrimary.inspect) {
      <app-inspector></app-inspector>
    }
    @case (sideBarPrimary.code) {
      @for (tab of codeTabs; track tab) {
        <p-button [label]="tab.title"
                  [pTooltip]="tab.title"
                  size="large"
                  [fluid]="true"
                  [variant]="'outlined'"
                  [text]="tab.tab !== appStateService.layoutState().sideBarSecondary ? 'secondary' : undefined"
                  (onClick)="appStateService.setAppLayout({sideBarSecondary: tab.tab})" size="small"></p-button>
      }
    }
  }
</div>
