<div class="flex flex-col gap-2.5 flex-grow rounded overflow-auto p-4">
  <!-- Position Selector (only show when item is selected) -->
  @if (hasSelection()) {
    <div class="position-selector">
      <div class="position-selector-label">Insert Position:</div>
      <p-selectButton
        [options]="insertPositions"
        [(ngModel)]="selectedInsertPosition"
        optionLabel="label"
        optionValue="value"
        styleClass="compact-select-button">
        <ng-template let-item pTemplate>
          <i [class]="item.icon"></i>
        </ng-template>
      </p-selectButton>
    </div>
  }

  @for (item of components; track item.preset.presetId) {
    <div class="overflow-hidden">
      <div class="p-3 bg-[var(--bg-tertiary)] rounded cursor-pointer hover:scale-[1.03] transition-all duration-250 ease-in-out"
           (click)="addItem(item.preset.presetId)">
        <div class="mb-1.5">{{ item.preset.presetName }}</div>
        <ng-container *ngComponentOutlet="item.component; inputs: item.inputs" />
      </div>
    </div>
  }
</div>
